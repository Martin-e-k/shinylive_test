[{"name":"app.R","content":"library(shiny)\n\nui <- fluidPage(\n  titlePanel(\"Upload CSV & Download Plot\"),\n  sidebarLayout(\n    sidebarPanel(\n      fileInput(\"file\", \"Choose CSV File\", accept = \".csv\"),\n      sliderInput(\"bins\", \"Number of bins:\", 1, 50, 30),\n      downloadButton(\"downloadPlot\", \"Download Plot\")\n    ),\n    mainPanel(\n      plotOutput(\"distPlot\")\n    )\n  )\n)\n\nserver <- function(input, output) {\n  \n  # Reactive data: uploaded CSV or default faithful dataset\n  data <- reactive({\n    if (is.null(input$file)) {\n      faithful$waiting\n    } else {\n      df <- read.csv(input$file$datapath)\n      # Assuming the CSV has one numeric column to plot; adjust as needed\n      df[[1]]\n    }\n  })\n  \n  output$distPlot <- renderPlot({\n    x <- data()\n    bins <- seq(min(x), max(x), length.out = input$bins + 1)\n    hist(x, breaks = bins, col = \"skyblue\", border = \"white\",\n         main = \"Histogram of Waiting Times\", xlab = \"Waiting time (minutes)\")\n  })\n  \n  output$downloadPlot <- downloadHandler(\n    filename = function() {\n      paste0(\"plot_\", Sys.Date(), \".png\")\n    },\n    content = function(file) {\n      png(file, width = 800, height = 600)\n      x <- data()\n      bins <- seq(min(x), max(x), length.out = input$bins + 1)\n      hist(x, breaks = bins, col = \"skyblue\", border = \"white\",\n           main = \"Histogram of Waiting Times\", xlab = \"Waiting time (minutes)\")\n      dev.off()\n    }\n  )\n}\n\nshinyApp(ui, server)\n\n\n","type":"text"},{"name":"shinylive_test.Rproj","content":"Version: 1.0\n\nRestoreWorkspace: Default\nSaveWorkspace: Default\nAlwaysSaveHistory: Default\n\nEnableCodeIndexing: Yes\nUseSpacesForTab: Yes\nNumSpacesForTab: 2\nEncoding: UTF-8\n\nRnwWeave: Sweave\nLaTeX: pdfLaTeX\n","type":"text"}]
